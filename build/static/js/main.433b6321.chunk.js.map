{"version":3,"sources":["App.js","reportWebVitals.js","controllers/parse_and_search.js","routes/symbol_lookup.jsx","controllers/quote_machine.js","routes/quote.jsx","index.js"],"names":["App","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ParseAndSearch","readRemoteFile","usePapaParse","useState","data","setData","finalCompany","setFinalCompany","newAnswer","setNewAnswer","errorMessage","setErrorMessage","url","useEffect","header","complete","results","console","log","length","id","onSubmit","event","preventDefault","userCompany","FormData","currentTarget","get","tempAnswer","filter","company","Name","toLowerCase","includes","err","type","name","placeholder","map","answer","index","className","SymbolLookup","QuoteLookup","mySymbol","setMySymbol","outputSymbol","setOutputSymbol","outputLastClose","setOutputLastClose","outputLastCloseDate","setOutputLastCloseDate","newSymbol","options","method","params","function","symbol","outputsize","datatype","axios","request","response","newObject","stockSymbol","dateArray","Object","entries","forEach","date","aVar","bVar","push","closeDate","Date","slice","replace","toLocaleDateString","weekday","month","day","year","d3","remove","margin","width","height","parseTime","formatDate","x","range","y","svg","append","attr","lineSvg","focus","style","d","value","domain","call","on","x0","invert","this","i","bisectDate","d0","d1","select","text","left","catch","error","toUpperCase","Quote","ReactDOM","createRoot","document","getElementById","render","path","element"],"mappings":"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","file":"static/js/main.433b6321.chunk.js","sourcesContent":["import { Outlet, Link } from 'react-router-dom'\n\nfunction App() {\n  return (\n    <div>\n      <section><h1>Stock Quote</h1></section>\n      <nav>\n          <Link to=\"/symbol_lookup\">Symbol Lookup</Link> | {\" \"}\n          <Link to=\"/quote\">Quote</Link>\n      </nav>\n      <Outlet />\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\nimport { usePapaParse } from 'react-papaparse';\n\nexport function ParseAndSearch() {\n  const { readRemoteFile } = usePapaParse();\n  let [data, setData] = useState([]);\n  const [finalCompany, setFinalCompany] = useState('');\n  const [newAnswer, setNewAnswer] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const url = 'nasdaq_screener_1661027821778_082022.csv';\n\n  useEffect(() => {\n    readRemoteFile(url, {\n      header: true,\n      complete: (results) => {\n        console.log('---------------');\n        console.log('Results:', results);\n        console.log('---------------');\n        setData(results.data);\n      }\n    });\n  }, [url, readRemoteFile]);\n\n  console.log('Complete', data.length, 'records');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const formData = new FormData(event.currentTarget);\n    let userCompany = formData.get('companyname');\n    setFinalCompany(userCompany);\n    try {\n      let tempAnswer = [];\n      tempAnswer = data.filter(company => {\n        if (!company.Name) return false;\n        if (company.Name.toLowerCase().includes(userCompany.toLowerCase())) return true;\n        return false;\n      });\n\n      if (!tempAnswer.length) {\n        setNewAnswer([]);\n        setErrorMessage('No such company found!');\n      } else {\n        setNewAnswer(tempAnswer);\n        setErrorMessage('');\n      }\n\n    } catch (err) {\n      setNewAnswer([]);\n      setErrorMessage('No such company found!');\n    }\n  };\n\n  return (\n    <div>\n      <section>\n        <h2>Symbol Lookup</h2>\n        <h3>Don't Know the Stock Symbol?<br />\n\t  Input Stock Company Name Here</h3>\n        <form id='symbol-lookup' onSubmit={handleSubmit}>\n          <input id='companyname' type=\"text\" name='companyname' placeholder='Company Name' />\n          <button type='submit'>Submit</button>\n          <h4>Currently has the <br /> NASDAQ 8,308 companies and tickers <br />as of 08/20/22</h4>\n          <h4>US Companies (and ADRs) Only</h4>\n        </form>\n      </section>\n      <section>\n        <h3 id='lookup-output'>\n          <em>Your Input:</em> {finalCompany}<br />\n          <em>Results:</em><br />\n          *******************************<br />\n          {newAnswer.map((answer, index) => {\n            return <div key={index}>\n              *******************************<br />\n              Company Name: {answer.Name}<br />\n              Company Symbol: {answer['Symbol']}<br />\n              </div>\n          })}\n\n          <span className='output-styling'>{errorMessage}</span>\n        </h3>\n      </section>\n    </div>\n  )\n}\n","import {\n  Outlet\n} from 'react-router-dom'\nimport { ParseAndSearch } from '../controllers/parse_and_search'\n\nfunction SymbolLookup() {\n  return (\n    <div>\n      <ParseAndSearch />\n      <Outlet />\n    </div>\n  )\n}\n\nexport default SymbolLookup\n","import React, {\n  useState\n} from 'react';\nimport axios from 'axios';\nimport * as d3 from 'd3';\n\n// AlphaVantage - 5 API requests a minute and 500 requests a day\n\nexport function QuoteLookup() {\n  const [mySymbol, setMySymbol] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [outputSymbol, setOutputSymbol] = useState('');\n  const [outputLastClose, setOutputLastClose] = useState('');\n  const [outputLastCloseDate, setOutputLastCloseDate] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const formData = new FormData(event.currentTarget);\n    let newSymbol = formData.get('stocksymbol');\n    setMySymbol(newSymbol);\n\n    const options = {\n      method: 'GET',\n      url: '/quote', // change to /quote\n      params: {\n        function: 'TIME_SERIES_DAILY',\n        symbol: newSymbol,\n        outputsize: 'full',\n        datatype: 'json'\n      }\n    };\n\n    // deploy steps - delete .env; change url above to /quote, remove apikey above\n\n    axios.request(options).then((response) => {\n      let newObject = response.data;\n\n      let stockSymbol = newObject['Meta Data']['2. Symbol'];\n      setOutputSymbol(stockSymbol);\n\n      let dateArray = [];\n\n\tlet cVar = Object.entries(newObject['Time Series (Daily)']); // pull out the main section we want\n\t//console.log(cVar);\n\n\tfunction formatArray (date) {  // create new array with pairs\n\t\tlet aVar = date[0];\n\t\tlet bVar = date[1]['4. close'];\n\t\t//console.log('[' + aVar + ', ' + bVar + ']');\n\t\tdateArray.push([aVar,bVar]);\n\t};\n\n\tcVar.forEach(formatArray);\n\n\n\t    /*   this is working - keep this section\n      Object.entries(newObject['Time Series (Daily)']).forEach(function (date) {\n        dateArray.push(date);\n      });\n      */\n      //console.log(dateArray); // all close dates as arrays in pair [date, close value]\n      //console.log(dateArray[0]); // first close date\n      //console.log(dateArray[0][1]); // nested values of first close date\n      //console.log(dateArray[0][1]['4. close']); // first close value\n      // let closeNumber = dateArray[0][1]['4. close'].slice(0,-2);\n      let closeDate = new Date(dateArray[0][0]);\n      setOutputLastClose(dateArray[0][1].slice(0,-2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"));\n      setOutputLastCloseDate(closeDate.toLocaleDateString('en-us', {weekday: \"short\", month: \"short\", day: \"numeric\", year:\"numeric\"}));\n      setErrorMessage('');\n\n      if (!dateArray) { // stop if no data\n        return;\n      }\n\n      // d3 section\n\n      // clear out previous graph\n      d3.selectAll('svg')\n        .remove();\n\n\n\n\n      let margin = {\n        top: 30,\n        right: 40,\n        bottom: 30,\n        left: 50\n      };\n      let width = 500 - margin.left - margin.right;\n      let height = 300 - margin.top - margin.bottom;\n      \n      let parseTime = d3.timeParse('%Y-%m-%d');\n      let formatDate = d3.timeFormat('%b %d, %Y'); // \"was %B %d, %Y - 'June 30, 2015' etc.\n\n\tlet x = d3.scaleTime().range([0, width]);\n\tlet y = d3.scaleLinear().range([height, 0]);\n\n      let svg = d3.select('#chart').append('svg')\n          .attr('width', width + margin.left + margin.right)\n          .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n          .attr('transform',\n                  'translate(' + margin.left + ',' + margin.top + ')');\n\n\tvar lineSvg = svg.append('g');\n\t\n\tlet focus = svg.append('g')\n\t    .style('display', 'none');\n\n        let data = dateArray;\n      \n\tdata.forEach(function(d) {\n          d.date = parseTime(d[0]); \n          d.value = +d[1];\n        });\n\n      console.log(data);\n      console.log(data[0].date);\n      console.log(data[0].value);\n\n\tx.domain(d3.extent(data, function(d) { return d.date; }));\n\ty.domain([0, d3.max(data, function(d) { return d.value; })]);\n\n\tlineSvg.append('path')\n\t    .data([data])\n\t    .attr('class', 'line')\n\t    .attr('fill', 'none')\n\t    .attr('stroke', 'red')\n\t    .attr('stroke-width', 1.5)\n\t    .attr('d', d3.line()\n\t\t    .x(function(d) { return x(d.date) })\n\t\t    .y(function(d) { return y(d.value) })\n\t    );\n\t\n      // X axis\n      svg.append('g')\n          .attr('transform', 'translate(0,' + height + ')')\n          .call(d3.axisBottom(x))\n\n      // Y axis`\n      svg.append('g')\n          .call(d3.axisLeft(y))\n\n\t// append the x line\n\tfocus.append('line')\n\t    .attr('class', 'x')\n\t    .style('stroke', 'blue')\n\t    .style('stroke-dasharray', '3.3')\n\t    .style('opacity', 0.5)\n\t    .attr('y1', 0)\n\t    .attr('y2', height);\n\n\t// append the y line\n\tfocus.append('line')\n\t    .attr('class', 'y')\n\t    .style('stroke', 'blue')\n\t    .style('stroke-dasharray', '3.3')\n\t    .style('opacity', 0.5)\n\t    .attr('x1', width)\n\t    .attr('x2', width);\n\t\n\t// append the circle at the intersection\n\tfocus.append('circle')\n\t    .attr('class', 'y')\n\t    .style('fill', 'none')\n\t    .style('stroke', 'blue')\n\t    .attr('r', 4);\n\n\t// place the value at the intersection\n\tfocus.append('text')\n\t    .attr('class', 'y1')\n\t    .style('stroke', 'white')\n\t    .style('stroke-width', '3.5px')\n\t    .style('opacity', 0.8)\n\t    .attr('dx', 8)\n\t    .attr('dy', '-.3em');\n\tfocus.append('text')\n\t    .attr('class', 'y2')\n\t    .attr('dx', 8)\n\t    .attr('dy', '-.3em');\n\n\t// place the date at the intersection\n\tfocus.append('text')\n\t    .attr('class', 'y3')\n\t    .style('stroke', 'white')\n\t    .style('stroke-width', '3.5px')\n\t    .style('opacity', 0.8)\n\t    .attr('dx', 8)\n\t    .attr('dy', '1em');\n\tfocus.append('text')\n\t    .attr('class', 'y4')\n\t    .attr('dx', 8)\n\t    .attr('dy', '1em');\n\n\t// append the rectangle to capture mouse\n\tsvg.append('rect')\n\t    .attr('width', '660px')\n\t    .attr('height', height)\n\t    .style('fill', 'none')\n\t    .style('pointer-events', 'all')\n\t    .on('mouseover', function() { focus.style('display', null); })\n\t    .on('mouseout', function() { focus.style('display', 'none'); })\n\t    .on('mousemove', mousemove);\n\n\tlet bisectDate = d3.bisector((d, x) => x - d.date).left;\n\n\tfunction mousemove(event) {\n\t\n\t\tvar x0 = x.invert(d3.pointer(event,this)[0]),\n\t\t\ti = bisectDate(data, x0, 1), // reversed list - still need to up index more\n\t\t\td0 = data[i - 1],\n\t\t\td1 = data[i],\n\t\t\td = x0 - d0.date > d1.date - x0 ? d1 : d0;\n\t\t/*\n\t\tconsole.log('x0: ',x0);\n\t\tconsole.log('i: ', i);\n\t\tconsole.log('d0: ',d0);\n\t\tconsole.log('d1: ',d1);\n\t\tconsole.log('d: ',d);\n\t\t*/\n\n\t\tfocus.select('circle.y')\t// this is the circle around the data point\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')');\n\n\t\tfocus.select('text.y1') // text \n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')')\n\t\t\t.text('$' + d.value);\n\n\t\tfocus.select('text.y2') // text\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')')\n\t\t\t.text('$' + d.value);\n\t\n\t\tfocus.select('text.y3') // text\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')')\n\t\t\t.text(formatDate(d.date));\n\n\t\tfocus.select('text.y4') // text\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')')\n\t\t\t.text(formatDate(d.date));\n\t\t\n\t\tfocus.select('.x') // dotted line\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + x(d.date) + ',' + y(d.value) + ')')\n\t\t\t.attr('y2', height - y(d.value));\n\n\t\tfocus.select('.y') // dotted line\n\t\t\t.attr('transform',\n\t\t\t\t'translate(' + width * -1 + ',' + y(d[1]) + ')')\n\t\t\t.attr('x2', width + width);\n\n\t}\n\n      // end d3 section\n\n\n    }).catch((error) => {\n      console.log(error);\n      setOutputSymbol('');\n      setOutputLastClose('');\n      setOutputLastCloseDate('');\n      setErrorMessage('No such symbol found!');\n    })\n\n\n  };\n\n  return (\n    <div>\n      <section>\n        <h2>Stock Quote</h2>\n        <h3>From Alpha Vantage<br />\n        Raw (As-Traded) Historical Prices</h3>\n        <form id='stock-quote' onSubmit={handleSubmit}>\n          <input id='stocksymbol' type='text' name='stocksymbol' placeholder='Stock Symbol' />\n          <button type='submit'>Submit</button>\n        </form>\n      </section>\n      <section>\n        <h3 id='lookup-output'>\n          <em>Your Input:</em> {mySymbol}<br />\n          <em>Results:</em><br />\n          *******************************<br />\n          Stock Symbol: {outputSymbol.toUpperCase()} <br />\n          Last Close Date: {outputLastCloseDate} <br />\n          Last Close: ${outputLastClose} <br />\n            <span className='output-styling'>{errorMessage}</span>\n          </h3>\n      </section>\n      <section id=\"chart\">\n        <h2>{outputSymbol.toUpperCase()} from 2002 to 2022</h2>\n      </section>\n  </div>\n  )\n}\n","import {\n  Outlet\n} from 'react-router-dom';\nimport { QuoteLookup } from '../controllers/quote_machine';\n\nfunction Quote() {\n  return (\n    <div>\n      <QuoteLookup />\n      <Outlet />\n    </div>\n  )\n};\n\nexport default Quote;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport {\n  BrowserRouter,\n  Routes,\n  Route\n} from 'react-router-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport SymbolLookup from './routes/symbol_lookup'\nimport Quote from './routes/quote'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\nroot.render(\n  <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<App />}>\n          <Route path=\"symbol_lookup\" element={<SymbolLookup />} />\n          <Route path=\"quote\" element={<Quote />} />\n          <Route index element={\n            <main>\n              <section>\n                <p>Here you can look at stock quotes</p>\n              </section>\n            </main>\n          }\n          />\n          <Route path=\"*\" element={\n            <section>\n              <main>\n                <p>There's nothing here!</p>\n              </main>\n            </section>\n          }\n          />\n        </Route>\n\n      </Routes>\n  </BrowserRouter>\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}